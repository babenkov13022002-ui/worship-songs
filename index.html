<!DOCTYPE html>
<html lang="ru">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Worship Songs ‚Ä¢ –ö–æ–º–∞–Ω–¥–∞ –ø—Ä–æ—Å–ª–∞–≤–ª–µ–Ω–∏—è</title>
    <link rel="stylesheet" href="style.css">
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.4.0/css/all.min.css">
    <script src="https://telegram.org/js/telegram-web-app.js"></script>
    <link rel="manifest" href="manifest.json">
</head>
<body>
    <!-- –≠–∫—Ä–∞–Ω –∑–∞–≥—Ä—É–∑–∫–∏ -->
    <div id="loading-screen" class="loading-screen">
        <div class="logo-container">
            <div class="logo-animation">
                <div class="music-note note1">‚ô™</div>
                <div class="music-note note2">‚ô´</div>
                <div class="logo-text">Worship<br>Songs</div>
                <div class="music-note note3">üéµ</div>
                <div class="music-note note4">üé∂</div>
            </div>
            <div class="loading-progress">
                <div class="progress-bar"></div>
                <div class="loading-text">–ó–∞–≥—Ä—É–∑–∫–∞ –≤–∞—à–µ–π –º—É–∑—ã–∫–∏...</div>
            </div>
        </div>
    </div>

    <!-- –û—Å–Ω–æ–≤–Ω–æ–π –∏–Ω—Ç–µ—Ä—Ñ–µ–π—Å -->
    <div id="app" class="app-container hidden">
        <!-- –í–µ—Ä—Ö–Ω—è—è –ø–∞–Ω–µ–ª—å -->
        <header class="glass-header">
            <div class="header-content">
                <div class="logo">
                    <i class="fas fa-cross"></i>
                    <span>Worship Songs</span>
                </div>
                <div class="header-actions">
                    <button class="icon-btn" id="profile-btn">
                        <i class="fas fa-user"></i>
                    </button>
                </div>
            </div>
        </header>

        <!-- –û—Å–Ω–æ–≤–Ω–æ–µ —Å–æ–¥–µ—Ä–∂–∏–º–æ–µ -->
        <main class="main-content">
            <!-- –ü–æ–∏—Å–∫ –∏ —Ñ–∏–ª—å—Ç—Ä—ã -->
            <div class="search-section glass-card">
                <div class="search-container">
                    <i class="fas fa-search search-icon"></i>
                    <input type="text" 
                           id="search-input" 
                           class="search-input" 
                           placeholder="–ü–æ–∏—Å–∫ –ø–µ—Å–µ–Ω...">
                    <button class="filter-btn" id="filter-btn">
                        <i class="fas fa-filter"></i>
                    </button>
                </div>
                <div class="filter-options hidden" id="filter-options">
                    <select id="key-filter" class="filter-select">
                        <option value="">–í—Å–µ —Ç–æ–Ω–∞–ª—å–Ω–æ—Å—Ç–∏</option>
                        <option value="C">C</option>
                        <option value="D">D</option>
                        <option value="E">E</option>
                        <option value="F">F</option>
                        <option value="G">G</option>
                        <option value="A">A</option>
                        <option value="B">B</option>
                    </select>
                    <select id="category-filter" class="filter-select">
                        <option value="">–í—Å–µ –∫–∞—Ç–µ–≥–æ—Ä–∏–∏</option>
                        <option value="praise">–•–≤–∞–ª–∞</option>
                        <option value="worship">–ü–æ–∫–ª–æ–Ω–µ–Ω–∏–µ</option>
                        <option value="fast">–ë—ã—Å—Ç—Ä—ã–µ</option>
                        <option value="slow">–ú–µ–¥–ª–µ–Ω–Ω—ã–µ</option>
                    </select>
                </div>
            </div>

            <!-- –°–ø–∏—Å–æ–∫ –ø–µ—Å–µ–Ω -->
            <div class="songs-container">
                <div class="section-header">
                    <h2><i class="fas fa-music"></i> –í—Å–µ –ø–µ—Å–Ω–∏</h2>
                    <span id="songs-count" class="counter">0</span>
                </div>
                <div id="songs-list" class="songs-list">
                    <!-- –ü–µ—Å–Ω–∏ –±—É–¥—É—Ç –¥–æ–±–∞–≤–ª—è—Ç—å—Å—è —á–µ—Ä–µ–∑ JS -->
                </div>
            </div>

            <!-- –ü–ª–µ–π–ª–∏—Å—Ç—ã (—Å–∫—Ä—ã—Ç–æ –ø–æ —É–º–æ–ª—á–∞–Ω–∏—é) -->
            <div id="playlists-section" class="hidden">
                <div class="section-header">
                    <h2><i class="fas fa-list"></i> –ü–ª–µ–π–ª–∏—Å—Ç—ã</h2>
                    <button class="icon-btn small" id="create-playlist-btn">
                        <i class="fas fa-plus"></i>
                    </button>
                </div>
                <div id="playlists-list" class="playlists-grid">
                    <!-- –ü–ª–µ–π–ª–∏—Å—Ç—ã –±—É–¥—É—Ç –¥–æ–±–∞–≤–ª—è—Ç—å—Å—è —á–µ—Ä–µ–∑ JS -->
                </div>
            </div>

            <!-- –ü—Ä–æ—Ñ–∏–ª—å (—Å–∫—Ä—ã—Ç–æ –ø–æ —É–º–æ–ª—á–∞–Ω–∏—é) -->
            <div id="profile-section" class="hidden">
                <div class="profile-card glass-card">
                    <div class="profile-header">
                        <div class="avatar-large">
                            <i class="fas fa-user"></i>
                        </div>
                        <div class="profile-info">
                            <h3 id="user-name">–ò–º—è –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—è</h3>
                            <p class="user-role">–£—á–∞—Å—Ç–Ω–∏–∫ –∫–æ–º–∞–Ω–¥—ã</p>
                        </div>
                    </div>
                    <div class="profile-stats">
                        <div class="stat-item">
                            <div class="stat-number" id="stats-songs">0</div>
                            <div class="stat-label">–ü–µ—Å–µ–Ω</div>
                        </div>
                        <div class="stat-item">
                            <div class="stat-number" id="stats-playlists">0</div>
                            <div class="stat-label">–ü–ª–µ–π–ª–∏—Å—Ç–æ–≤</div>
                        </div>
                        <div class="stat-item">
                            <div class="stat-number" id="stats-transposed">0</div>
                            <div class="stat-label">–¢—Ä–∞–Ω—Å–ø–æ–∑–∏—Ü–∏–π</div>
                        </div>
                    </div>
                </div>
            </div>
        </main>

        <!-- –ù–∏–∂–Ω—è—è –Ω–∞–≤–∏–≥–∞—Ü–∏—è -->
        <nav class="bottom-nav glass-nav">
            <button class="nav-item active" data-page="songs">
                <i class="fas fa-music"></i>
                <span>–ü–µ—Å–Ω–∏</span>
            </button>
            <button class="nav-item" data-page="playlists">
                <i class="fas fa-list"></i>
                <span>–ü–ª–µ–π–ª–∏—Å—Ç—ã</span>
            </button>
            <button class="nav-item add-song-btn" id="add-song-btn">
                <i class="fas fa-plus-circle"></i>
            </button>
            <button class="nav-item" data-page="profile">
                <i class="fas fa-user"></i>
                <span>–ü—Ä–æ—Ñ–∏–ª—å</span>
            </button>
        </nav>
    </div>

    <!-- –ú–æ–¥–∞–ª—å–Ω—ã–µ –æ–∫–Ω–∞ -->
    <div id="modal-overlay" class="modal-overlay hidden"></div>

    <!-- –ú–æ–¥–∞–ª–∫–∞ –¥–æ–±–∞–≤–ª–µ–Ω–∏—è –ø–µ—Å–Ω–∏ -->
    <div id="add-song-modal" class="modal glass-card hidden">
        <div class="modal-header">
            <h3><i class="fas fa-plus"></i> –ù–æ–≤–∞—è –ø–µ—Å–Ω—è</h3>
            <button class="icon-btn close-modal">
                <i class="fas fa-times"></i>
            </button>
        </div>
        <div class="modal-body">
            <div class="form-group">
                <input type="text" id="song-title" class="form-input" placeholder="–ù–∞–∑–≤–∞–Ω–∏–µ –ø–µ—Å–Ω–∏">
            </div>
            <div class="form-group">
                <input type="text" id="song-artist" class="form-input" placeholder="–ò—Å–ø–æ–ª–Ω–∏—Ç–µ–ª—å/–∞–≤—Ç–æ—Ä">
            </div>
            <div class="form-row">
                <div class="form-group half">
                    <select id="song-key" class="form-select">
                        <option value="">–¢–æ–Ω–∞–ª—å–Ω–æ—Å—Ç—å</option>
                        <option value="C">C (–î–æ)</option>
                        <option value="D">D (–†–µ)</option>
                        <option value="E">E (–ú–∏)</option>
                        <option value="F">F (–§–∞)</option>
                        <option value="G">G (–°–æ–ª—å)</option>
                        <option value="A">A (–õ—è)</option>
                        <option value="B">B (–°–∏)</option>
                    </select>
                </div>
                <div class="form-group half">
                    <select id="song-category" class="form-select">
                        <option value="">–ö–∞—Ç–µ–≥–æ—Ä–∏—è</option>
                        <option value="praise">–•–≤–∞–ª–∞</option>
                        <option value="worship">–ü–æ–∫–ª–æ–Ω–µ–Ω–∏–µ</option>
                    </select>
                </div>
            </div>
            <div class="form-group">
                <textarea id="song-lyrics" class="form-textarea" 
                          placeholder="–¢–µ–∫—Å—Ç —Å –∞–∫–∫–æ—Ä–¥–∞–º–∏ (—Ñ–æ—Ä–º–∞—Ç: [C]–¢–µ–∫—Å—Ç [G]–ø–µ—Å–Ω–∏)" 
                          rows="8"></textarea>
            </div>
            <div class="form-group">
                <label class="file-upload">
                    <i class="fas fa-upload"></i>
                    <span>–ó–∞–≥—Ä—É–∑–∏—Ç—å –æ—Ä–∏–≥–∏–Ω–∞–ª (MP3)</span>
                    <input type="file" id="original-audio" accept="audio/*" hidden>
                </label>
                <label class="file-upload">
                    <i class="fas fa-upload"></i>
                    <span>–ó–∞–≥—Ä—É–∑–∏—Ç—å –ø–ª–µ–π–±—ç–∫ (MP3)</span>
                    <input type="file" id="playback-audio" accept="audio/*" hidden>
                </label>
            </div>
        </div>
        <div class="modal-footer">
            <button class="btn btn-secondary close-modal">–û—Ç–º–µ–Ω–∞</button>
            <button class="btn btn-primary" id="save-song-btn">
                <i class="fas fa-save"></i> –°–æ—Ö—Ä–∞–Ω–∏—Ç—å
            </button>
        </div>
    </div>

    <!-- –ú–æ–¥–∞–ª–∫–∞ –ø—Ä–æ—Å–º–æ—Ç—Ä–∞ –ø–µ—Å–Ω–∏ -->
    <div id="song-modal" class="modal song-modal glass-card hidden">
        <div class="song-modal-header">
            <button class="icon-btn back-to-list">
                <i class="fas fa-arrow-left"></i>
            </button>
            <div class="song-title-section">
                <h3 id="modal-song-title">–ù–∞–∑–≤–∞–Ω–∏–µ</h3>
                <div class="song-meta">
                    <span id="modal-song-artist">–ò—Å–ø–æ–ª–Ω–∏—Ç–µ–ª—å</span>
                    <span class="key-badge" id="modal-song-key">C</span>
                </div>
            </div>
            <button class="icon-btn" id="edit-song-btn">
                <i class="fas fa-edit"></i>
            </button>
        </div>
        
        <div class="song-modal-body">
            <!-- –ê—É–¥–∏–æ–ø–ª–µ–µ—Ä -->
            <div class="audio-player glass-card">
                <div class="player-tabs">
                    <button class="player-tab active" data-audio="original">
                        <i class="fas fa-music"></i> –û—Ä–∏–≥–∏–Ω–∞–ª
                    </button>
                    <button class="player-tab" data-audio="playback">
                        <i class="fas fa-headphones"></i> –ü–ª–µ–π–±—ç–∫
                    </button>
                </div>
                <div class="player-controls">
                    <audio id="song-audio" controls>
                        –í–∞—à –±—Ä–∞—É–∑–µ—Ä –Ω–µ –ø–æ–¥–¥–µ—Ä–∂–∏–≤–∞–µ—Ç –∞—É–¥–∏–æ
                    </audio>
                </div>
            </div>

            <!-- –¢—Ä–∞–Ω—Å–ø–æ–Ω–∏—Ä–æ–≤–∞–Ω–∏–µ -->
            <div class="transpose-section glass-card">
                <div class="transpose-header">
                    <h4><i class="fas fa-sliders-h"></i> –¢—Ä–∞–Ω—Å–ø–æ–Ω–∏—Ä–æ–≤–∞—Ç—å</h4>
                    <div class="current-key">
                        –¢–µ–∫—É—â–∞—è: <strong id="current-key">C</strong>
                    </div>
                </div>
                <div class="transpose-controls">
                    <button class="icon-btn" id="transpose-down">
                        <i class="fas fa-arrow-down"></i> -1
                    </button>
                    <div class="key-selector">
                        <select id="transpose-select" class="form-select">
                            <!-- –û–ø—Ü–∏–∏ –±—É–¥—É—Ç —á–µ—Ä–µ–∑ JS -->
                        </select>
                    </div>
                    <button class="icon-btn" id="transpose-up">
                        +1 <i class="fas fa-arrow-up"></i>
                    </button>
                </div>
                <div class="transposed-lyrics" id="transposed-lyrics">
                    <!-- –¢–µ–∫—Å—Ç —Å —Ç—Ä–∞–Ω—Å–ø–æ–Ω–∏—Ä–æ–≤–∞–Ω–Ω—ã–º–∏ –∞–∫–∫–æ—Ä–¥–∞–º–∏ -->
                </div>
            </div>

            <!-- –¢–µ–∫—Å—Ç –ø–µ—Å–Ω–∏ -->
            <div class="lyrics-section glass-card">
                <h4><i class="fas fa-file-alt"></i> –¢–µ–∫—Å—Ç —Å –∞–∫–∫–æ—Ä–¥–∞–º–∏</h4>
                <div class="lyrics-content" id="song-lyrics-content">
                    <!-- –¢–µ–∫—Å—Ç –ø–µ—Å–Ω–∏ –±—É–¥–µ—Ç –∑–¥–µ—Å—å -->
                </div>
            </div>
        </div>
    </div>

    <!-- –ú–æ–¥–∞–ª–∫–∞ —Å–æ–∑–¥–∞–Ω–∏—è –ø–ª–µ–π–ª–∏—Å—Ç–∞ -->
    <div id="create-playlist-modal" class="modal glass-card hidden">
        <div class="modal-header">
            <h3><i class="fas fa-plus"></i> –ù–æ–≤—ã–π –ø–ª–µ–π–ª–∏—Å—Ç</h3>
            <button class="icon-btn close-modal">
                <i class="fas fa-times"></i>
            </button>
        </div>
        <div class="modal-body">
            <div class="form-group">
                <input type="text" id="playlist-name" class="form-input" 
                       placeholder="–ù–∞–∑–≤–∞–Ω–∏–µ –ø–ª–µ–π–ª–∏—Å—Ç–∞ (–Ω–∞–ø—Ä–∏–º–µ—Ä: '–í–æ—Å–∫—Ä–µ—Å–Ω–æ–µ —Å–ª—É–∂–µ–Ω–∏–µ')">
            </div>
            <div class="form-group">
                <textarea id="playlist-description" class="form-textarea" 
                          placeholder="–û–ø–∏—Å–∞–Ω–∏–µ (–Ω–µ–æ–±—è–∑–∞—Ç–µ–ª—å–Ω–æ)" 
                          rows="3"></textarea>
            </div>
            <div class="form-group">
                <label class="form-label">–í—ã–±–µ—Ä–∏—Ç–µ –ø–µ—Å–Ω–∏:</label>
                <div id="playlist-songs-selector">
                    <!-- –°–ø–∏—Å–æ–∫ –ø–µ—Å–µ–Ω –¥–ª—è –≤—ã–±–æ—Ä–∞ -->
                </div>
            </div>
        </div>
        <div class="modal-footer">
            <button class="btn btn-secondary close-modal">–û—Ç–º–µ–Ω–∞</button>
            <button class="btn btn-primary" id="save-playlist-btn">
                <i class="fas fa-save"></i> –°–æ–∑–¥–∞—Ç—å
            </button>
        </div>
    </div>

    <!-- –£–≤–µ–¥–æ–º–ª–µ–Ω–∏—è -->
    <div id="toast-container" class="toast-container"></div>

    <script src="app.js"></script>
    <!-- –î–û–ë–ê–í–ò–¢–¨ –≤ –∫–æ–Ω–µ—Ü body –ø–µ—Ä–µ–¥ </body> -->

<!-- –ú–æ–¥–∞–ª–∫–∞ —Ä–µ–¥–∞–∫—Ç–∏—Ä–æ–≤–∞–Ω–∏—è –ø–µ—Å–Ω–∏ -->
<div id="edit-song-modal" class="modal glass-card hidden">
    <!-- –°–æ–¥–µ—Ä–∂–∏–º–æ–µ –∞–Ω–∞–ª–æ–≥–∏—á–Ω–æ add-song-modal -->
</div>

<!-- –ú–æ–¥–∞–ª–∫–∞ –ø–æ–¥—Ç–≤–µ—Ä–∂–¥–µ–Ω–∏—è —É–¥–∞–ª–µ–Ω–∏—è -->
<div id="delete-confirm-modal" class="modal glass-card hidden">
    <div class="modal-header">
        <h3><i class="fas fa-exclamation-triangle"></i> –ü–æ–¥—Ç–≤–µ—Ä–∂–¥–µ–Ω–∏–µ</h3>
    </div>
    <div class="modal-body">
        <p>–í—ã —É–≤–µ—Ä–µ–Ω—ã, —á—Ç–æ —Ö–æ—Ç–∏—Ç–µ —É–¥–∞–ª–∏—Ç—å –ø–µ—Å–Ω—é "<span id="delete-song-title"></span>"?</p>
        <p class="text-warning">–≠—Ç–æ –¥–µ–π—Å—Ç–≤–∏–µ –Ω–µ–ª—å–∑—è –æ—Ç–º–µ–Ω–∏—Ç—å!</p>
    </div>
    <div class="modal-footer">
        <button class="btn btn-secondary" id="cancel-delete">–û—Ç–º–µ–Ω–∞</button>
        <button class="btn btn-danger" id="confirm-delete">
            <i class="fas fa-trash"></i> –£–¥–∞–ª–∏—Ç—å
        </button>
    </div>
</div>

<!-- –ú–æ–¥–∞–ª–∫–∞ –Ω–∞—Å—Ç—Ä–æ–µ–∫ -->
<div id="settings-modal" class="modal glass-card hidden">
    <div class="modal-header">
        <h3><i class="fas fa-cog"></i> –ù–∞—Å—Ç—Ä–æ–π–∫–∏</h3>
        <button class="icon-btn close-modal">
            <i class="fas fa-times"></i>
        </button>
    </div>
    <div class="modal-body">
        <div class="setting-item">
            <label class="switch">
                <input type="checkbox" id="auto-save-toggle" checked>
                <span class="slider"></span>
            </label>
            <span>–ê–≤—Ç–æ—Å–æ—Ö—Ä–∞–Ω–µ–Ω–∏–µ</span>
        </div>
        <div class="setting-item">
            <label class="switch">
                <input type="checkbox" id="offline-mode-toggle" checked>
                <span class="slider"></span>
            </label>
            <span>–û—Ñ–ª–∞–π–Ω-—Ä–µ–∂–∏–º</span>
        </div>
        <div class="setting-item">
            <label>–¢–µ–º–∞:</label>
            <select id="theme-select" class="form-select">
                <option value="auto">–ê–≤—Ç–æ</option>
                <option value="light">–°–≤–µ—Ç–ª–∞—è</option>
                <option value="dark">–¢–µ–º–Ω–∞—è</option>
                <option value="purple">–§–∏–æ–ª–µ—Ç–æ–≤–∞—è</option>
            </select>
        </div>
        <button class="btn btn-secondary" id="export-data-btn">
            <i class="fas fa-download"></i> –≠–∫—Å–ø–æ—Ä—Ç –≤—Å–µ—Ö –¥–∞–Ω–Ω—ã—Ö
        </button>
    </div>
</div>

<!-- –ö–æ–Ω—Ç–µ–∫—Å—Ç–Ω–æ–µ –º–µ–Ω—é –¥–ª—è –ø–µ—Å–µ–Ω -->
<div id="song-context-menu" class="context-menu glass-card hidden">
    <div class="context-item" data-action="edit">
        <i class="fas fa-edit"></i> –†–µ–¥–∞–∫—Ç–∏—Ä–æ–≤–∞—Ç—å
    </div>
    <div class="context-item" data-action="delete">
        <i class="fas fa-trash"></i> –£–¥–∞–ª–∏—Ç—å
    </div>
    <div class="context-item" data-action="copy">
        <i class="fas fa-copy"></i> –ö–æ–ø–∏—Ä–æ–≤–∞—Ç—å —Ç–µ–∫—Å—Ç
    </div>
    <div class="context-item" data-action="share">
        <i class="fas fa-share"></i> –ü–æ–¥–µ–ª–∏—Ç—å—Å—è
    </div>
    <div class="context-item" data-action="favorite">
        <i class="fas fa-star"></i> –í –∏–∑–±—Ä–∞–Ω–Ω–æ–µ
    </div>
    <div class="context-item" data-action="transpose">
        <i class="fas fa-sliders-h"></i> –ë—ã—Å—Ç—Ä–æ–µ —Ç—Ä–∞–Ω—Å–ø–æ–Ω–∏—Ä–æ–≤–∞–Ω–∏–µ
    </div>
</div>
</body>

</html>
